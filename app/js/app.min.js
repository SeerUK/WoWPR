var ApiClient=function(a,b){var c=function(c,d){var e=b.defer();return a.get("proxy.php?region="+c+"&uri="+d).success(function(a){e.resolve(a)}).error(function(){return!1}),e.promise};return{findCharacter:function(a,b,d){return c(a,"/api/wow/character/"+b+"/"+d)},findRealms:function(a){return c(a,"/api/wow/realm/status")}}},ConfigManager=function(a){var b=a.get("wowpr.config")||{};return{get:function(a){return b[a]||!1},set:function(c,d){return b[c]=d,a.set("wowpr.config",b),this}}},StorageEngine=function(){var a=function(){return"undefined"==typeof Storage?!1:!0};return{get:function(b){return a?JSON.parse(localStorage.getItem(b)):!1},set:function(b,c){return a?localStorage.setItem(b,JSON.stringify(c)):!1,this},unset:function(b){return a?localStorage.removeItem(b):!1,this}}};angular.module("wowpr",["ngAnimate","ngRoute","wowpr.filters","wowpr.services","wowpr.directives","wowpr.controllers"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"partials/home.html",controller:"HomeCtrl"}),a.when("/view2",{templateUrl:"partials/partial2.html",controller:"MyCtrl2"}),a.otherwise({redirectTo:"/"})}]),angular.module("wowpr.controllers",[]).controller("HomeCtrl",["$scope","$q","ApiClient","ConfigManager",function(a,b,c,d){d.get("region")||(console.log("Setting region config."),d.set("region","eu"));var e=d.get("region");c.findRealms(e).then(function(b){a.realms=b.realms,a.doSearch=function(){var b=c.findCharacter(e,a.formData.realm,a.formData.name);b.then(function(b){a.response=b})}})}]).controller("MyCtrl2",[function(){}]),angular.module("wowpr.directives",[]).directive("asideMenuButton",[function(){return{restrict:"A",link:function(a,b,c){var d=angular.element(document.getElementById(c.parent)),e=angular.element(document.getElementsByTagName("body")),f=function(){d.removeClass("active")},g=function(){d.addClass("active")};e.on("click",function(){d.hasClass("active")&&f()}),d.on("click",function(a){a.stopPropagation()}),b.on("click",function(a){a.preventDefault(),a.stopPropagation(),d.hasClass("active")?f():g()})}}}]),angular.module("wowpr.filters",[]).filter("interpolate",["version",function(a){return function(b){return String(b).replace(/\%VERSION\%/gm,a)}}]),angular.module("wowpr.services",[]).service("Test",[function(){return{test:"test"}}]).service("ApiClient",["$http","$q",ApiClient]).service("StorageEngine",[StorageEngine]).service("ConfigManager",["StorageEngine",ConfigManager]);